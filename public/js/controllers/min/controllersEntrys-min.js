var angular=angular,app=angular.module("myApp.controllersEntrys",[]);app.controller("EntryListCtrl",["$scope","$routeParams","EntrysFactory","JobFactory","$location",function(e,t,l,n,a){e.loading=!0,e.job=n.show({id:t.id}),e.entrys=l.show({id:t.id}),e.entrys.$promise.then(function(l){e.entrys=l,e.entry.id=t.id,e.loading=!1}),e.hourOptions=[{label:"Hours",value:"0.00"},{label:"1.00",value:"1.00"},{label:"2.00",value:"2.00"},{label:"3.00",value:"3.00"},{label:"4.00",value:"4.00"},{label:"5.00",value:"5.00"},{label:"6.00",value:"6.00"},{label:"7.00",value:"7.00"},{label:"8.00",value:"8.00"}],e.minuteOptions=[{label:"Minutes",value:"0.00"},{label:"0.25",value:"0.25"},{label:"0.50",value:"0.50"},{label:"0.75",value:"0.75"}],e.entry={},e.entry.hours=e.hourOptions[0].value,e.entry.minutes=e.minuteOptions[0].value,e.entry.misc_costs="0.00",e.addNums=function(t,l){return e.result=t-=-l,e.result},e.editEntry=function(e){a.path("/entrys-detail/"+e+"/edit/"+t.id)},e.deleteJob=function(t){var n=t.id;e.loading=!0,l.delete({id:n}).$promise.then(function(){var l=e.entrys.indexOf(t);e.entrys.splice(l,1),e.loading=!1})},e.createNewEntry=function(){e.loading=!0,e.date=new Date,l.create(e.entry).$promise.then(function(t){e.entrys.unshift({id:t.insertId,date:e.date,jobdescription:e.entry.jobdescription,hours:e.entry.hours,minutes:e.entry.minutes,misc_costs:e.entry.misc_costs}),e.loading=!1,e.entryForm.$setPristine(),e.entry.jobdescription="",e.entry.hours=e.hourOptions[0].value,e.entry.minutes=e.minuteOptions[0].value,e.entry.misc_costs="0.00"})}}]),app.controller("EntrysDetailCtrl",["$scope","$routeParams","EntryFactory","EntrysFactory","$location",function(e,t,l,n,a){n.show().$promise.then(function(){e.entrys=l.show({id:t.id})}),e.updateEntry=function(){e.loading=!0,n.update(e.entrys).$promise.then(function(){e.entrys=n.show({id:t.id}),a.path("/entrys-list/"+t.item),e.loading=!1})},e.cancel=function(){a.path("/entrys-list/"+t.item)},e.hourOptions=[{label:"Hours",value:"0.00"},{label:"1.00",value:"1.00"},{label:"2.00",value:"2.00"},{label:"3.00",value:"3.00"},{label:"4.00",value:"4.00"},{label:"5.00",value:"5.00"},{label:"6.00",value:"6.00"},{label:"7.00",value:"7.00"},{label:"8.00",value:"8.00"}],e.minuteOptions=[{label:"Minutes",value:"0.00"},{label:"0.25",value:"0.25"},{label:"0.50",value:"0.50"},{label:"0.75",value:"0.75"}]}]);